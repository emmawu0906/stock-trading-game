<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#000000">
  <title>ğŸ“ˆ AIç‚’è‚¡æ¨¡æ‹Ÿå™¨</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700;900&family=JetBrains+Mono:wght@400;500;700&display=swap');
    
    * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
    
    :root {
      --bg: #000000;
      --card: rgba(10, 15, 30, 0.9);
      --primary: #00d9ff;
      --accent: #00ff9d;
      --warning: #ffaa00;
      --danger: #ff3366;
      --text: #e0f2fe;
      --dim: #4a5568;
      --up: #00ff88;
      --down: #ff4757;
      --glow: 0 0 20px rgba(0, 217, 255, 0.5);
      --glow-accent: 0 0 20px rgba(0, 255, 157, 0.5);
    }
    
    html, body {
      font-family: 'JetBrains Mono', monospace;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      overflow-x: hidden;
      font-size: 14px;
      touch-action: manipulation;
    }
    
    /* åŠ¨æ€ç½‘æ ¼èƒŒæ™¯ */
    .cyber-grid {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: 
        linear-gradient(90deg, rgba(0, 217, 255, 0.03) 1px, transparent 1px),
        linear-gradient(180deg, rgba(0, 217, 255, 0.03) 1px, transparent 1px);
      background-size: 30px 30px;
      animation: gridMove 20s linear infinite;
      pointer-events: none;
      z-index: 0;
    }
    
    @keyframes gridMove {
      0% { transform: translateY(0); }
      100% { transform: translateY(30px); }
    }
    
    /* æ‰«æçº¿æ•ˆæœ */
    .scanline {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.1) 0px,
        rgba(0, 0, 0, 0.1) 1px,
        transparent 1px,
        transparent 2px
      );
      pointer-events: none;
      z-index: 1000;
      opacity: 0.3;
    }
    
    .safe-top { padding-top: env(safe-area-inset-top, 20px); }
    .safe-bottom { padding-bottom: env(safe-area-inset-bottom, 20px); }
    
    .screen { display: none; min-height: 100vh; position: relative; z-index: 10; }
    .screen.active { display: flex; flex-direction: column; }
    
    /* ===== ä¸»èœå• ===== */
    .menu-screen {
      background: radial-gradient(ellipse at top, #0a1628 0%, #000 70%);
      padding: 20px 16px;
    }
    
    .menu-header {
      text-align: center;
      padding: 30px 0 20px;
    }
    
    .logo-container {
      position: relative;
      display: inline-block;
      margin-bottom: 16px;
    }
    
    .logo-icon {
      font-size: 60px;
      filter: drop-shadow(0 0 30px var(--primary));
      animation: pulse 2s ease-in-out infinite;
    }
    
    @keyframes pulse {
      0%, 100% { filter: drop-shadow(0 0 20px var(--primary)); }
      50% { filter: drop-shadow(0 0 40px var(--primary)); }
    }
    
    .menu-title {
      font-family: 'Orbitron', sans-serif;
      font-size: 24px;
      font-weight: 900;
      letter-spacing: 4px;
      background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 50%, var(--primary) 100%);
      background-size: 200% auto;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: shimmer 3s linear infinite;
      text-shadow: 0 0 30px rgba(0, 217, 255, 0.5);
    }
    
    @keyframes shimmer {
      0% { background-position: 0% center; }
      100% { background-position: 200% center; }
    }
    
    .menu-subtitle {
      color: var(--dim);
      font-size: 11px;
      letter-spacing: 2px;
      margin-top: 8px;
    }
    
    .stats-bar {
      display: flex;
      justify-content: center;
      gap: 24px;
      margin: 20px 0;
      padding: 12px;
      background: rgba(0, 217, 255, 0.05);
      border: 1px solid rgba(0, 217, 255, 0.2);
      border-radius: 8px;
    }
    
    .stat-item {
      text-align: center;
    }
    
    .stat-value {
      font-family: 'Orbitron', sans-serif;
      font-size: 18px;
      font-weight: 700;
      color: var(--primary);
    }
    
    .stat-label {
      font-size: 10px;
      color: var(--dim);
    }
    
    .level-grid {
      display: flex;
      flex-direction: column;
      gap: 10px;
      padding: 0 4px;
    }
    
    .level-card {
      background: linear-gradient(135deg, rgba(10, 20, 40, 0.9), rgba(5, 10, 25, 0.95));
      border: 1px solid rgba(0, 217, 255, 0.3);
      border-radius: 12px;
      padding: 16px;
      cursor: pointer;
      transition: all 0.3s;
      position: relative;
      overflow: hidden;
    }
    
    .level-card::before {
      content: '';
      position: absolute;
      top: 0; left: -100%;
      width: 100%; height: 100%;
      background: linear-gradient(90deg, transparent, rgba(0, 217, 255, 0.1), transparent);
      transition: left 0.5s;
    }
    
    .level-card:active::before {
      left: 100%;
    }
    
    .level-card:active {
      transform: scale(0.98);
      border-color: var(--primary);
      box-shadow: var(--glow);
    }
    
    .level-card.locked {
      opacity: 0.4;
      pointer-events: none;
    }
    
    .level-card.completed {
      border-color: var(--accent);
    }
    
    .level-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 10px;
    }
    
    .level-num {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, var(--primary), #0066ff);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Orbitron', sans-serif;
      font-weight: 700;
      font-size: 16px;
      color: #000;
      box-shadow: 0 0 15px rgba(0, 217, 255, 0.5);
    }
    
    .level-info h3 {
      font-family: 'Orbitron', sans-serif;
      font-size: 14px;
      letter-spacing: 1px;
      margin-bottom: 4px;
    }
    
    .level-info p {
      font-size: 11px;
      color: var(--dim);
    }
    
    .level-meta {
      display: flex;
      gap: 12px;
      font-size: 10px;
      color: var(--dim);
      padding-left: 52px;
    }
    
    .level-meta span {
      display: flex;
      align-items: center;
      gap: 4px;
    }
    
    /* ===== æ¸¸æˆç•Œé¢ ===== */
    .game-screen {
      background: radial-gradient(ellipse at top, #0a1628 0%, #000 70%);
    }
    
    .game-header {
      background: rgba(10, 15, 30, 0.95);
      padding: 10px 16px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid rgba(0, 217, 255, 0.2);
      backdrop-filter: blur(10px);
    }
    
    .back-btn {
      background: rgba(0, 217, 255, 0.1);
      border: 1px solid rgba(0, 217, 255, 0.3);
      color: var(--primary);
      padding: 6px 12px;
      border-radius: 6px;
      font-size: 12px;
      cursor: pointer;
      font-family: 'Orbitron', sans-serif;
    }
    
    .level-badge {
      background: linear-gradient(135deg, var(--primary), var(--accent));
      color: #000;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 11px;
      font-weight: 700;
      font-family: 'Orbitron', sans-serif;
      letter-spacing: 1px;
    }
    
    .assets-display {
      text-align: right;
    }
    
    .total-assets {
      font-family: 'Orbitron', sans-serif;
      font-size: 16px;
      font-weight: 700;
      color: var(--primary);
      text-shadow: 0 0 10px rgba(0, 217, 255, 0.5);
    }
    
    .profit-rate {
      font-size: 11px;
      font-family: 'JetBrains Mono', monospace;
    }
    
    .profit-rate.up { color: var(--up); text-shadow: 0 0 10px rgba(0, 255, 136, 0.5); }
    .profit-rate.down { color: var(--down); text-shadow: 0 0 10px rgba(255, 71, 87, 0.5); }
    
    /* ä»·æ ¼æ˜¾ç¤º */
    .price-section {
      background: linear-gradient(180deg, rgba(10, 20, 40, 0.8) 0%, rgba(0, 0, 0, 0.9) 100%);
      padding: 20px 16px;
      text-align: center;
      border-bottom: 1px solid rgba(0, 217, 255, 0.1);
      position: relative;
    }
    
    .price-section::after {
      content: '';
      position: absolute;
      bottom: 0; left: 50%;
      transform: translateX(-50%);
      width: 80%;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--primary), transparent);
    }
    
    .stock-info {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
    }
    
    .stock-name {
      font-family: 'Orbitron', sans-serif;
      font-size: 12px;
      color: var(--dim);
      letter-spacing: 2px;
    }
    
    .stock-code {
      background: rgba(0, 217, 255, 0.1);
      border: 1px solid rgba(0, 217, 255, 0.3);
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 10px;
      color: var(--primary);
    }
    
    .current-price {
      font-family: 'Orbitron', sans-serif;
      font-size: 42px;
      font-weight: 900;
      letter-spacing: 2px;
      transition: all 0.3s;
    }
    
    .current-price.up { 
      color: var(--up); 
      text-shadow: 0 0 30px rgba(0, 255, 136, 0.6);
    }
    .current-price.down { 
      color: var(--down); 
      text-shadow: 0 0 30px rgba(255, 71, 87, 0.6);
    }
    
    .price-meta {
      display: flex;
      justify-content: center;
      gap: 20px;
      font-size: 11px;
      color: var(--dim);
      margin-top: 8px;
    }
    
    .price-meta b {
      font-family: 'JetBrains Mono', monospace;
    }
    
    .price-meta b.up { color: var(--up); }
    .price-meta b.down { color: var(--down); }
    
    /* Kçº¿å›¾åŒºåŸŸ */
    .chart-section {
      background: rgba(5, 10, 20, 0.8);
      padding: 12px;
      border-bottom: 1px solid rgba(0, 217, 255, 0.1);
    }
    
    .chart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }
    
    .chart-title {
      font-family: 'Orbitron', sans-serif;
      font-size: 10px;
      color: var(--primary);
      letter-spacing: 2px;
    }
    
    .chart-timeframe {
      display: flex;
      gap: 8px;
    }
    
    .tf-btn {
      background: rgba(0, 217, 255, 0.1);
      border: 1px solid rgba(0, 217, 255, 0.2);
      color: var(--dim);
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 10px;
      cursor: pointer;
    }
    
    .tf-btn.active {
      background: var(--primary);
      color: #000;
      border-color: var(--primary);
    }
    
    .chart-canvas {
      width: 100%;
      height: 160px;
      background: linear-gradient(180deg, rgba(0, 20, 40, 0.5) 0%, rgba(0, 0, 0, 0.8) 100%);
      border-radius: 8px;
      border: 1px solid rgba(0, 217, 255, 0.1);
    }
    
    /* ä¿¡å·æç¤º */
    .signal-section {
      background: rgba(5, 10, 20, 0.6);
      padding: 12px 16px;
      border-bottom: 1px solid rgba(0, 217, 255, 0.1);
    }
    
    .section-title {
      font-family: 'Orbitron', sans-serif;
      font-size: 10px;
      color: var(--primary);
      letter-spacing: 2px;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    
    .section-title::before {
      content: '';
      width: 8px;
      height: 8px;
      background: var(--primary);
      border-radius: 50%;
      animation: blink 1s infinite;
    }
    
    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.3; }
    }
    
    .signal-list {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    
    .signal-item {
      background: rgba(0, 0, 0, 0.4);
      border-radius: 6px;
      padding: 10px 12px;
      font-size: 12px;
      display: flex;
      align-items: center;
      gap: 10px;
      border-left: 3px solid var(--dim);
    }
    
    .signal-item.buy { 
      border-color: var(--up); 
      background: rgba(0, 255, 136, 0.05);
    }
    .signal-item.sell { 
      border-color: var(--down); 
      background: rgba(255, 71, 87, 0.05);
    }
    .signal-item.warn { 
      border-color: var(--warning); 
      background: rgba(255, 170, 0, 0.05);
    }
    
    .signal-icon {
      font-size: 16px;
    }
    
    /* æŒä»“ä¿¡æ¯ */
    .position-section {
      background: rgba(10, 15, 30, 0.8);
      padding: 14px 16px;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
      border-bottom: 1px solid rgba(0, 217, 255, 0.1);
    }
    
    .pos-item {
      text-align: center;
      padding: 8px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 8px;
      border: 1px solid rgba(0, 217, 255, 0.1);
    }
    
    .pos-label {
      font-size: 9px;
      color: var(--dim);
      letter-spacing: 1px;
      text-transform: uppercase;
      margin-bottom: 4px;
    }
    
    .pos-value {
      font-family: 'Orbitron', sans-serif;
      font-size: 14px;
      font-weight: 600;
    }
    
    /* äº¤æ˜“æ§åˆ¶ */
    .trade-section {
      background: rgba(10, 15, 30, 0.95);
      padding: 16px;
      border-top: 1px solid rgba(0, 217, 255, 0.2);
    }
    
    .trade-input-row {
      display: flex;
      gap: 8px;
      margin-bottom: 12px;
    }
    
    .trade-input {
      flex: 1;
      background: rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(0, 217, 255, 0.3);
      border-radius: 8px;
      padding: 12px;
      color: var(--primary);
      font-size: 18px;
      font-family: 'Orbitron', sans-serif;
      text-align: center;
      outline: none;
    }
    
    .trade-input:focus {
      border-color: var(--primary);
      box-shadow: 0 0 15px rgba(0, 217, 255, 0.3);
    }
    
    .qty-btns {
      display: flex;
      gap: 6px;
    }
    
    .qty-btn {
      background: rgba(0, 217, 255, 0.1);
      border: 1px solid rgba(0, 217, 255, 0.2);
      border-radius: 6px;
      padding: 10px 12px;
      color: var(--primary);
      font-size: 11px;
      font-family: 'Orbitron', sans-serif;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .qty-btn:active {
      background: var(--primary);
      color: #000;
    }
    
    .trade-btns {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }
    
    .btn-buy {
      background: linear-gradient(135deg, #00ff88, #00cc6a);
      border: none;
      border-radius: 10px;
      padding: 16px;
      color: #000;
      font-size: 16px;
      font-weight: 700;
      font-family: 'Orbitron', sans-serif;
      letter-spacing: 2px;
      cursor: pointer;
      box-shadow: 0 0 20px rgba(0, 255, 136, 0.4);
      transition: all 0.2s;
    }
    
    .btn-sell {
      background: linear-gradient(135deg, #ff4757, #ff2222);
      border: none;
      border-radius: 10px;
      padding: 16px;
      color: #fff;
      font-size: 16px;
      font-weight: 700;
      font-family: 'Orbitron', sans-serif;
      letter-spacing: 2px;
      cursor: pointer;
      box-shadow: 0 0 20px rgba(255, 71, 87, 0.4);
      transition: all 0.2s;
    }
    
    .btn-buy:active, .btn-sell:active {
      transform: scale(0.96);
    }
    
    .quick-btns {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px;
      margin-top: 10px;
    }
    
    .btn-quick {
      background: rgba(0, 217, 255, 0.1);
      border: 1px solid rgba(0, 217, 255, 0.2);
      border-radius: 6px;
      padding: 10px;
      color: var(--dim);
      font-size: 11px;
      font-family: 'Orbitron', sans-serif;
      cursor: pointer;
    }
    
    .btn-quick:active {
      background: rgba(0, 217, 255, 0.2);
      color: var(--primary);
    }
    
    /* åº•éƒ¨æ§åˆ¶ */
    .game-footer {
      background: rgba(10, 15, 30, 0.95);
      padding: 12px 16px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-top: 1px solid rgba(0, 217, 255, 0.2);
    }
    
    .day-progress {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }
    
    .day-counter {
      font-family: 'Orbitron', sans-serif;
      font-size: 14px;
      color: var(--primary);
    }
    
    .progress-bar {
      width: 100px;
      height: 4px;
      background: rgba(0, 217, 255, 0.2);
      border-radius: 2px;
      overflow: hidden;
    }
    
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      border-radius: 2px;
      transition: width 0.3s;
    }
    
    .next-day-btn {
      background: linear-gradient(135deg, var(--primary), var(--accent));
      border: none;
      border-radius: 25px;
      padding: 14px 28px;
      color: #000;
      font-size: 14px;
      font-weight: 700;
      font-family: 'Orbitron', sans-serif;
      letter-spacing: 1px;
      cursor: pointer;
      box-shadow: 0 0 25px rgba(0, 217, 255, 0.5);
      transition: all 0.2s;
    }
    
    .next-day-btn:active {
      transform: scale(0.95);
      box-shadow: 0 0 15px rgba(0, 217, 255, 0.3);
    }
    
    /* æ¶ˆæ¯æç¤º */
    .toast {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(10, 15, 30, 0.95);
      border: 2px solid var(--primary);
      border-radius: 16px;
      padding: 20px 30px;
      text-align: center;
      z-index: 1000;
      animation: toastIn 0.3s ease-out;
      box-shadow: 0 0 40px rgba(0, 217, 255, 0.4);
    }
    
    @keyframes toastIn {
      from { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
      to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
    }
    
    .toast.success { 
      border-color: var(--accent); 
      box-shadow: 0 0 40px rgba(0, 255, 157, 0.4);
    }
    .toast.error { 
      border-color: var(--danger); 
      box-shadow: 0 0 40px rgba(255, 51, 102, 0.4);
    }
    
    /* æ•™å­¦å¼¹çª— */
    .modal {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0, 0, 0, 0.9);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 100;
      padding: 20px;
    }
    
    .modal.show { display: flex; }
    
    .modal-content {
      background: linear-gradient(135deg, rgba(10, 20, 40, 0.98), rgba(5, 10, 25, 0.98));
      border: 1px solid var(--primary);
      border-radius: 20px;
      padding: 24px;
      max-width: 400px;
      width: 100%;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: 0 0 50px rgba(0, 217, 255, 0.3);
    }
    
    .modal-title {
      font-family: 'Orbitron', sans-serif;
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 16px;
      text-align: center;
      color: var(--primary);
      letter-spacing: 2px;
    }
    
    .modal-body {
      font-size: 13px;
      line-height: 1.8;
      margin-bottom: 20px;
      color: var(--text);
    }
    
    .modal-body p { margin-bottom: 12px; }
    .modal-body ul { padding-left: 20px; margin-bottom: 12px; }
    .modal-body li { margin-bottom: 6px; }
    .modal-body .hl { color: var(--accent); font-weight: 600; }
    .modal-body b { color: var(--primary); }
    
    .btn-primary {
      background: linear-gradient(135deg, var(--primary), var(--accent));
      border: none;
      border-radius: 10px;
      padding: 14px;
      width: 100%;
      color: #000;
      font-size: 14px;
      font-weight: 700;
      font-family: 'Orbitron', sans-serif;
      letter-spacing: 2px;
      cursor: pointer;
      box-shadow: 0 0 20px rgba(0, 217, 255, 0.4);
    }
    
    /* ç»“ç®—ç•Œé¢ */
    .report-screen {
      background: radial-gradient(ellipse at top, #0a1628 0%, #000 70%);
      padding: 40px 20px;
      text-align: center;
    }
    
    .report-title {
      font-family: 'Orbitron', sans-serif;
      font-size: 28px;
      font-weight: 900;
      margin-bottom: 30px;
      letter-spacing: 3px;
    }
    
    .report-card {
      background: linear-gradient(135deg, rgba(10, 20, 40, 0.9), rgba(5, 10, 25, 0.95));
      border: 1px solid var(--primary);
      border-radius: 20px;
      padding: 30px;
      margin-bottom: 24px;
      box-shadow: 0 0 40px rgba(0, 217, 255, 0.2);
    }
    
    .grade-badge {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Orbitron', sans-serif;
      font-size: 40px;
      font-weight: 900;
      margin: 0 auto 20px;
      box-shadow: 0 0 30px currentColor;
    }
    
    .grade-S { background: linear-gradient(135deg, #ffd700, #ff8c00); color: #000; box-shadow: 0 0 40px #ffd700; }
    .grade-A { background: linear-gradient(135deg, var(--accent), #00cc7a); color: #000; box-shadow: 0 0 40px var(--accent); }
    .grade-B { background: linear-gradient(135deg, var(--primary), #0099cc); color: #000; box-shadow: 0 0 40px var(--primary); }
    .grade-C { background: linear-gradient(135deg, var(--warning), #cc8800); color: #000; box-shadow: 0 0 40px var(--warning); }
    .grade-D { background: linear-gradient(135deg, var(--danger), #cc0033); color: #fff; box-shadow: 0 0 40px var(--danger); }
    
    .report-stats {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
    }
    
    .report-stats .stat-item {
      background: rgba(0, 0, 0, 0.3);
      padding: 16px;
      border-radius: 12px;
      border: 1px solid rgba(0, 217, 255, 0.1);
    }
    
    .report-stats .stat-value {
      font-family: 'Orbitron', sans-serif;
      font-size: 22px;
      font-weight: 700;
    }
    
    .report-stats .stat-label {
      font-size: 10px;
      color: var(--dim);
      letter-spacing: 1px;
      text-transform: uppercase;
      margin-top: 4px;
    }
  </style>
</head>
<body>
  <!-- èƒŒæ™¯æ•ˆæœ -->
  <div class="cyber-grid"></div>
  <div class="scanline"></div>
  
  <!-- ä¸»èœå• -->
  <div id="menu-screen" class="screen menu-screen active">
    <div class="safe-top"></div>
    
    <div class="menu-header">
      <div class="logo-container">
        <div class="logo-icon">ğŸ“ˆ</div>
      </div>
      <div class="menu-title">AI äº¤æ˜“æ¨¡æ‹Ÿ</div>
      <div class="menu-subtitle">å¾·æ˜åˆ©å®æˆ˜è®­ç»ƒç³»ç»Ÿ</div>
    </div>
    
    <div class="stats-bar">
      <div class="stat-item">
        <div class="stat-value">5</div>
        <div class="stat-label">å…³å¡</div>
      </div>
      <div class="stat-item">
        <div class="stat-value">50</div>
        <div class="stat-label">å¤©æ•°</div>
      </div>
      <div class="stat-item">
        <div class="stat-value" id="completed-levels">0</div>
        <div class="stat-label">å·²é€šå…³</div>
      </div>
    </div>
    
    <div class="level-grid" id="level-grid"></div>
    
    <div class="safe-bottom"></div>
  </div>
  
  <!-- æ¸¸æˆç•Œé¢ -->
  <div id="game-screen" class="screen game-screen">
    <div class="safe-top"></div>
    
    <div class="game-header">
      <button class="back-btn" onclick="backToMenu()">â—„ è¿”å›</button>
      <span class="level-badge" id="level-badge">ç¬¬1å…³</span>
      <div class="assets-display">
        <div class="total-assets" id="total-assets">Â¥100,000</div>
        <div class="profit-rate" id="profit-rate">+0.00%</div>
      </div>
    </div>
    
    <div class="price-section">
      <div class="stock-info">
        <span class="stock-name">å¾·æ˜åˆ©ç”µå­</span>
        <span class="stock-code">001309</span>
      </div>
      <div class="current-price up" id="current-price">Â¥250.00</div>
      <div class="price-meta">
        <span>æ¶¨è·Œ <b id="price-change" class="up">+0.00%</b></span>
        <span>æˆäº¤é‡ <b id="day-volume">0ä¸‡</b></span>
        <span>é‡æ¯” <b id="vol-ratio">1.0x</b></span>
      </div>
    </div>
    
    <div class="chart-section">
      <div class="chart-header">
        <span class="chart-title">ğŸ“Š Kçº¿å›¾</span>
        <div class="chart-timeframe">
          <span class="tf-btn active">D</span>
        </div>
      </div>
      <canvas id="chart-canvas" class="chart-canvas"></canvas>
    </div>
    
    <div class="signal-section">
      <div class="section-title">ğŸ“¡ AIä¿¡å·åˆ†æ</div>
      <div class="signal-list" id="signal-list">
        <div class="signal-item">
          <span class="signal-icon">ğŸ’¡</span>
          <span>ç‚¹å‡»ã€Œä¸‹ä¸€å¤©ã€å¼€å§‹</span>
        </div>
      </div>
    </div>
    
    <div class="position-section">
      <div class="pos-item">
        <div class="pos-label">æŒä»“</div>
        <div class="pos-value" id="pos-shares">0</div>
      </div>
      <div class="pos-item">
        <div class="pos-label">æˆæœ¬ä»·</div>
        <div class="pos-value" id="pos-cost">--</div>
      </div>
      <div class="pos-item">
        <div class="pos-label">æµ®åŠ¨ç›ˆäº</div>
        <div class="pos-value" id="pos-pnl">--</div>
      </div>
    </div>
    
    <div class="trade-section">
      <div class="trade-input-row">
        <input type="number" class="trade-input" id="trade-shares" value="100" step="100" min="100">
        <div class="qty-btns">
          <button class="qty-btn" onclick="setQty(100)">1æ‰‹</button>
          <button class="qty-btn" onclick="setQty(500)">5æ‰‹</button>
          <button class="qty-btn" onclick="setQty(1000)">10æ‰‹</button>
        </div>
      </div>
      <div class="trade-btns">
        <button class="btn-buy" onclick="buy()">ä¹°å…¥</button>
        <button class="btn-sell" onclick="sell()">å–å‡º</button>
      </div>
      <div class="quick-btns">
        <button class="btn-quick" onclick="buyMax()">å…¨ä»“ä¹°å…¥</button>
        <button class="btn-quick" onclick="sellAll()">æ¸…ä»“å–å‡º</button>
      </div>
    </div>
    
    <div class="game-footer safe-bottom">
      <div class="day-progress">
        <div class="day-counter" id="day-counter">ç¬¬0å¤©/5å¤©</div>
        <div class="progress-bar">
          <div class="progress-fill" id="progress-fill" style="width:0%"></div>
        </div>
      </div>
      <button class="next-day-btn" onclick="nextDay()">ä¸‹ä¸€å¤© â–¶</button>
    </div>
  </div>
  
  <!-- æ•™å­¦å¼¹çª— -->
  <div id="teaching-modal" class="modal">
    <div class="modal-content">
      <div class="modal-title" id="modal-title">ğŸ“š æ•™å­¦</div>
      <div class="modal-body" id="modal-body"></div>
      <button class="btn-primary" onclick="closeModal()">æˆ‘çŸ¥é“äº†</button>
    </div>
  </div>
  
  <!-- ç»“ç®—ç•Œé¢ -->
  <div id="report-screen" class="screen report-screen">
    <div class="safe-top"></div>
    <div class="report-title" id="report-title">ğŸ‰ æ­å–œé€šå…³</div>
    <div class="report-card">
      <div class="grade-badge" id="grade-badge">A</div>
      <div class="report-stats">
        <div class="stat-item">
          <div class="stat-value" id="report-profit">+5.2%</div>
          <div class="stat-label">æ”¶ç›Šç‡</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="report-trades">3</div>
          <div class="stat-label">äº¤æ˜“æ¬¡æ•°</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="report-win">66%</div>
          <div class="stat-label">èƒœç‡</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="report-score">85</div>
          <div class="stat-label">è¯„åˆ†</div>
        </div>
      </div>
    </div>
    <button class="btn-primary" onclick="nextLevel()">ä¸‹ä¸€å…³ â–¶</button>
    <button class="btn-primary" style="background:#333;margin-top:12px;box-shadow:none" onclick="backToMenu()">è¿”å›èœå•</button>
    <div class="safe-bottom"></div>
  </div>
  
  <script>
    // ===== æ¸¸æˆçŠ¶æ€ =====
    let currentLevel = 0;
    let dayIndex = 0;
    let cash = 100000;
    let initialCash = 100000;
    let shares = 0;
    let avgCost = 0;
    let tradeCount = 0;
    let winCount = 0;
    let priceHistory = [];
    let unlockedLevels = [true, false, false, false, false];
    
    // ===== å…³å¡é…ç½® =====
    const LEVELS = [
      { id: 1, title: 'Kçº¿åŸºç¡€', subtitle: 'è®¤è¯†Kçº¿å›¾', days: 5, profit: 0.05, trades: 5, price: 250, cash: 100000 },
      { id: 2, title: 'æˆäº¤é‡åˆ†æ', subtitle: 'é‡ä»·å…³ç³»', days: 8, profit: 0.08, trades: 5, price: 240, cash: 100000 },
      { id: 3, title: 'å‡çº¿ç³»ç»Ÿ', subtitle: 'MAæŒ‡æ ‡', days: 10, profit: 0.10, trades: 8, price: 230, cash: 100000 },
      { id: 4, title: 'æ”¯æ’‘å‹åŠ›', subtitle: 'å…³é”®ä½åˆ¤æ–­', days: 12, profit: 0.12, trades: 8, price: 225, cash: 120000 },
      { id: 5, title: 'å®æˆ˜äº¤æ˜“', subtitle: 'ç»¼åˆè¿ç”¨', days: 15, profit: 0.15, trades: 999, price: 220, cash: 150000 },
    ];
    
    // ===== åˆå§‹åŒ– =====
    function init() {
      loadProgress();
      renderLevelGrid();
    }
    
    function loadProgress() {
      const saved = localStorage.getItem('stockgame_progress_v2');
      if (saved) {
        const data = JSON.parse(saved);
        unlockedLevels = data.unlocked || [true, false, false, false, false];
      }
    }
    
    function saveProgress() {
      localStorage.setItem('stockgame_progress_v2', JSON.stringify({ unlocked: unlockedLevels }));
    }
    
    // ===== æ¸²æŸ“å…³å¡é€‰æ‹© =====
    function renderLevelGrid() {
      const completed = unlockedLevels.filter((v, i) => i > 0 && v).length;
      document.getElementById('completed-levels').textContent = completed;
      
      const grid = document.getElementById('level-grid');
      grid.innerHTML = LEVELS.map((level, i) => `
        <div class="level-card ${unlockedLevels[i] ? '' : 'locked'} ${unlockedLevels[i+1] ? 'completed' : ''}" onclick="startLevel(${i})">
          <div class="level-header">
            <div class="level-num">${level.id}</div>
            <div class="level-info">
              <h3>${level.title}</h3>
              <p>${level.subtitle}</p>
            </div>
          </div>
          <div class="level-meta">
            <span>ğŸ“Š ${level.days}å¤©</span>
            <span>ğŸ¯ +${(level.profit * 100).toFixed(0)}%</span>
            <span>ğŸ’° Â¥${(level.cash/1000).toFixed(0)}K</span>
          </div>
        </div>
      `).join('');
    }
    
    // ===== å¼€å§‹å…³å¡ =====
    function startLevel(levelIndex) {
      if (!unlockedLevels[levelIndex]) {
        showToast('ğŸ”’ æœªè§£é”', 'error');
        return;
      }
      
      currentLevel = levelIndex;
      const level = LEVELS[levelIndex];
      
      dayIndex = 0;
      cash = level.cash;
      initialCash = level.cash;
      shares = 0;
      avgCost = 0;
      tradeCount = 0;
      winCount = 0;
      
      generatePriceData(level);
      
      document.getElementById('level-badge').textContent = `ç¬¬${level.id}å…³`;
      showScreen('game');
      updateUI();
      
      if (levelIndex === 0) {
        setTimeout(() => showLesson(0), 500);
      }
    }
    
    // ===== ç”Ÿæˆä»·æ ¼æ•°æ® =====
    function generatePriceData(level) {
      priceHistory = [];
      let price = level.price;
      
      for (let i = 0; i < 20; i++) {
        const change = (Math.random() - 0.48) * 0.03;
        price = price * (1 + change);
        priceHistory.push({
          open: price * (1 + (Math.random() - 0.5) * 0.01),
          high: price * (1 + Math.random() * 0.02),
          low: price * (1 - Math.random() * 0.02),
          close: price,
          volume: 500000 + Math.random() * 500000,
          change: change
        });
      }
      
      const trends = ['up', 'up', 'down', 'up', 'up', 'down', 'up'];
      let dayPrice = priceHistory[priceHistory.length - 1].close;
      
      for (let d = 0; d < level.days; d++) {
        const trend = trends[d % trends.length];
        const strength = 0.01 + Math.random() * 0.025;
        let change = trend === 'up' ? strength : -strength;
        change += (Math.random() - 0.5) * 0.01;
        
        dayPrice = dayPrice * (1 + change);
        const vol = 500000 + Math.random() * 1000000 * (Math.abs(change) > 0.02 ? 1.5 : 1);
        
        priceHistory.push({
          open: dayPrice * (1 + (Math.random() - 0.5) * 0.01),
          high: dayPrice * (1 + Math.random() * 0.015),
          low: dayPrice * (1 - Math.random() * 0.015),
          close: dayPrice,
          volume: vol,
          change: change,
          isTradingDay: true
        });
      }
    }
    
    // ===== äº¤æ˜“åŠŸèƒ½ =====
    function buy() {
      const qty = parseInt(document.getElementById('trade-shares').value) || 100;
      const currentPrice = getCurrentPrice();
      const cost = currentPrice * qty + Math.max(5, currentPrice * qty * 0.0003);
      
      if (cost > cash) {
        showToast('âŒ èµ„é‡‘ä¸è¶³', 'error');
        return;
      }
      if (qty < 100) {
        showToast('âŒ æœ€å°‘100è‚¡', 'error');
        return;
      }
      
      cash -= cost;
      const oldTotal = avgCost * shares;
      shares += qty;
      avgCost = (oldTotal + currentPrice * qty) / shares;
      tradeCount++;
      
      showToast(`âœ… ä¹°å…¥ ${qty}è‚¡ @ Â¥${currentPrice.toFixed(2)}`, 'success');
      updateUI();
    }
    
    function sell() {
      const qty = parseInt(document.getElementById('trade-shares').value) || 100;
      const currentPrice = getCurrentPrice();
      
      if (qty > shares) {
        showToast('âŒ æŒä»“ä¸è¶³', 'error');
        return;
      }
      if (qty < 100) {
        showToast('âŒ æœ€å°‘100è‚¡', 'error');
        return;
      }
      
      const revenue = currentPrice * qty;
      const commission = Math.max(5, revenue * 0.0003);
      const tax = revenue * 0.001;
      const net = revenue - commission - tax;
      const pnl = net - avgCost * qty;
      
      cash += net;
      shares -= qty;
      if (shares === 0) avgCost = 0;
      tradeCount++;
      
      if (pnl >= 0) winCount++;
      
      const msg = pnl >= 0 
        ? `âœ… +Â¥${pnl.toFixed(0)}` 
        : `ğŸ“‰ -Â¥${Math.abs(pnl).toFixed(0)}`;
      showToast(msg, pnl >= 0 ? 'success' : 'error');
      updateUI();
    }
    
    function buyMax() {
      const price = getCurrentPrice();
      const maxQty = Math.floor(cash / (price * 1.001));
      const qty = maxQty - (maxQty % 100);
      if (qty >= 100) {
        document.getElementById('trade-shares').value = qty;
        buy();
      }
    }
    
    function sellAll() {
      if (shares >= 100) {
        document.getElementById('trade-shares').value = shares;
        sell();
      }
    }
    
    function setQty(qty) {
      document.getElementById('trade-shares').value = qty;
    }
    
    // ===== ä¸‹ä¸€å¤© =====
    function nextDay() {
      const level = LEVELS[currentLevel];
      dayIndex++;
      
      if (dayIndex >= level.days) {
        endLevel();
        return;
      }
      
      updateUI();
      analyzeSignals();
    }
    
    // ===== åˆ†æä¿¡å· =====
    function analyzeSignals() {
      const signals = [];
      const data = priceHistory[20 + dayIndex];
      if (!data) return;
      
      if (data.change > 0 && data.volume > 800000) {
        signals.push({ type: 'buy', icon: 'ğŸ”¥', text: 'æ”¾é‡ä¸Šæ¶¨ï¼Œèµ„é‡‘ç§¯æä¹°å…¥' });
      } else if (data.change < 0 && data.volume > 800000) {
        signals.push({ type: 'sell', icon: 'ğŸ’€', text: 'æ”¾é‡ä¸‹è·Œï¼Œèµ„é‡‘å‡ºé€ƒ' });
      } else if (data.change > 0 && data.volume < 400000) {
        signals.push({ type: 'warn', icon: 'âš ï¸', text: 'ç¼©é‡ä¸Šæ¶¨ï¼Œç¼ºä¹åŠ¨åŠ›' });
      } else if (data.change < 0 && data.volume < 400000) {
        signals.push({ type: 'warn', icon: 'ğŸ¤”', text: 'ç¼©é‡ä¸‹è·Œï¼Œå¸‚åœºè§‚æœ›' });
      }
      
      if (dayIndex >= 2) {
        const prev = priceHistory[20 + dayIndex - 1];
        const prev2 = priceHistory[20 + dayIndex - 2];
        if (data.close > prev.close && prev.close > prev2.close) {
          signals.push({ type: 'buy', icon: 'ğŸ“ˆ', text: 'ä¸‰è¿é˜³ï¼Œè¶‹åŠ¿å‘å¥½' });
        }
      }
      
      renderSignals(signals);
    }
    
    function renderSignals(signals) {
      const list = document.getElementById('signal-list');
      if (signals.length === 0) {
        list.innerHTML = '<div class="signal-item"><span class="signal-icon">ğŸ”</span><span>æš‚æ— æ˜ç¡®ä¿¡å·</span></div>';
      } else {
        list.innerHTML = signals.map(s => 
          `<div class="signal-item ${s.type}"><span class="signal-icon">${s.icon}</span><span>${s.text}</span></div>`
        ).join('');
      }
    }
    
    // ===== ç»“æŸå…³å¡ =====
    function endLevel() {
      const level = LEVELS[currentLevel];
      const finalAssets = cash + shares * getCurrentPrice();
      const profitRate = (finalAssets - initialCash) / initialCash;
      const passed = profitRate >= level.profit;
      
      let score = 50;
      score += profitRate * 200;
      if (passed) score += 20;
      score = Math.min(100, Math.max(0, Math.round(score)));
      
      const grade = score >= 90 ? 'S' : score >= 75 ? 'A' : score >= 60 ? 'B' : score >= 40 ? 'C' : 'D';
      
      document.getElementById('report-title').textContent = passed ? 'ğŸ‰ æ­å–œé€šå…³' : 'ğŸ’ª ç»§ç»­åŠªåŠ›';
      document.getElementById('report-profit').textContent = (profitRate >= 0 ? '+' : '') + (profitRate * 100).toFixed(1) + '%';
      document.getElementById('report-profit').style.color = profitRate >= 0 ? 'var(--up)' : 'var(--down)';
      document.getElementById('report-trades').textContent = tradeCount;
      document.getElementById('report-win').textContent = tradeCount > 0 ? Math.round(winCount / tradeCount * 100) + '%' : '--';
      document.getElementById('report-score').textContent = score;
      
      const badge = document.getElementById('grade-badge');
      badge.textContent = grade;
      badge.className = 'grade-badge grade-' + grade;
      
      if (passed && currentLevel < 4) {
        unlockedLevels[currentLevel + 1] = true;
        saveProgress();
      }
      
      showScreen('report');
    }
    
    function nextLevel() {
      if (currentLevel < 4 && unlockedLevels[currentLevel + 1]) {
        startLevel(currentLevel + 1);
      } else {
        backToMenu();
      }
    }
    
    // ===== UIæ›´æ–° =====
    function getCurrentPrice() {
      const data = priceHistory[20 + dayIndex];
      return data ? data.close : priceHistory[priceHistory.length - 1].close;
    }
    
    function updateUI() {
      const level = LEVELS[currentLevel];
      const price = getCurrentPrice();
      const data = priceHistory[20 + dayIndex];
      const prevData = dayIndex > 0 ? priceHistory[20 + dayIndex - 1] : priceHistory[20 + dayIndex - 1];
      
      // ä»·æ ¼
      document.getElementById('current-price').textContent = 'Â¥' + price.toFixed(2);
      const isUp = (data?.change || 0) >= 0;
      document.getElementById('current-price').className = 'current-price ' + (isUp ? 'up' : 'down');
      
      const changeEl = document.getElementById('price-change');
      changeEl.textContent = ((data?.change || 0) >= 0 ? '+' : '') + ((data?.change || 0) * 100).toFixed(2) + '%';
      changeEl.className = isUp ? 'up' : 'down';
      
      document.getElementById('day-volume').textContent = ((data?.volume || 0) / 10000).toFixed(0) + 'ä¸‡';
      
      const baseVol = 500000;
      const volRatio = ((data?.volume || baseVol) / baseVol).toFixed(1);
      document.getElementById('vol-ratio').textContent = volRatio + 'x';
      
      // èµ„äº§
      const totalAssets = cash + shares * price;
      const profitRate = (totalAssets - initialCash) / initialCash;
      document.getElementById('total-assets').textContent = 'Â¥' + totalAssets.toFixed(0);
      document.getElementById('profit-rate').textContent = (profitRate >= 0 ? '+' : '') + (profitRate * 100).toFixed(2) + '%';
      document.getElementById('profit-rate').className = 'profit-rate ' + (profitRate >= 0 ? 'up' : 'down');
      
      // æŒä»“
      document.getElementById('pos-shares').textContent = shares;
      document.getElementById('pos-cost').textContent = shares > 0 ? 'Â¥' + avgCost.toFixed(2) : '--';
      
      const pnlEl = document.getElementById('pos-pnl');
      if (shares > 0) {
        const pnl = (price - avgCost) * shares;
        const pnlRate = (price - avgCost) / avgCost * 100;
        pnlEl.textContent = (pnl >= 0 ? '+' : '') + 'Â¥' + pnl.toFixed(0);
        pnlEl.style.color = pnl >= 0 ? 'var(--up)' : 'var(--down)';
      } else {
        pnlEl.textContent = '--';
        pnlEl.style.color = 'var(--dim)';
      }
      
      // è¿›åº¦
      document.getElementById('day-counter').textContent = `ç¬¬${dayIndex}å¤©/${level.days}å¤©`;
      document.getElementById('progress-fill').style.width = (dayIndex / level.days * 100) + '%';
      
      drawChart();
    }
    
    // ===== ç»˜åˆ¶Kçº¿å›¾ =====
    function drawChart() {
      const canvas = document.getElementById('chart-canvas');
      const ctx = canvas.getContext('2d');
      const w = canvas.offsetWidth;
      const h = canvas.offsetHeight;
      
      canvas.width = w * 2;
      canvas.height = h * 2;
      ctx.scale(2, 2);
      
      ctx.fillStyle = 'transparent';
      ctx.fillRect(0, 0, w, h);
      
      const visibleData = priceHistory.slice(0, 21 + dayIndex);
      if (visibleData.length < 2) return;
      
      const prices = visibleData.flatMap(d => [d.high, d.low]);
      const minPrice = Math.min(...prices);
      const maxPrice = Math.max(...prices);
      const priceRange = maxPrice - minPrice || 1;
      
      const candleWidth = (w - 20) / visibleData.length;
      const padding = 10;
      
      visibleData.forEach((d, i) => {
        const x = padding + i * candleWidth;
        const isUp = d.close >= d.open;
        
        // å½±çº¿
        ctx.strokeStyle = isUp ? '#00ff88' : '#ff4757';
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.moveTo(x + candleWidth / 2, ((maxPrice - d.high) / priceRange) * (h - padding * 2) + padding);
        ctx.lineTo(x + candleWidth / 2, ((maxPrice - d.low) / priceRange) * (h - padding * 2) + padding);
        ctx.stroke();
        
        // å®ä½“
        const openY = ((maxPrice - d.open) / priceRange) * (h - padding * 2) + padding;
        const closeY = ((maxPrice - d.close) / priceRange) * (h - padding * 2) + padding;
        const bodyH = Math.max(1, Math.abs(closeY - openY));
        
        ctx.fillStyle = isUp ? '#00ff88' : '#ff4757';
        ctx.fillRect(x + 1, Math.min(openY, closeY), candleWidth - 2, bodyH);
        
        // å‘å…‰æ•ˆæœ
        ctx.shadowColor = isUp ? '#00ff88' : '#ff4757';
        ctx.shadowBlur = 5;
        ctx.fillRect(x + 1, Math.min(openY, closeY), candleWidth - 2, bodyH);
        ctx.shadowBlur = 0;
      });
    }
    
    // ===== æ•™å­¦ç³»ç»Ÿ =====
    const LESSONS = [
      {
        title: 'ğŸ“š ä»€ä¹ˆæ˜¯è‚¡ç¥¨ï¼Ÿ',
        content: `<p>ä¹°è‚¡ç¥¨å°±æ˜¯æˆä¸ºå…¬å¸çš„<b>"è‚¡ä¸œ"</b></p>
<p>å¾·æ˜åˆ©(001309)æ˜¯<span class="hl">å­˜å‚¨èŠ¯ç‰‡</span>é¾™å¤´ä¼ä¸š</p>
<ul>
<li>è‚¡ä»· = å¸‚åœºå¯¹å…¬å¸ä»·å€¼çš„çœ‹æ³•</li>
<li>ä½ çš„ç›®æ ‡ï¼š<b>ä½ä¹°é«˜å–</b></li>
</ul>`
      },
      {
        title: 'ğŸ“Š Kçº¿å›¾åŸºç¡€',
        content: `<p><b>çº¢è‰²é˜³çº¿</b> = æ”¶ç›˜ > å¼€ç›˜ = ä¸Šæ¶¨</p>
<p><b>ç»¿è‰²é˜´çº¿</b> = æ”¶ç›˜ < å¼€ç›˜ = ä¸‹è·Œ</p>
<ul>
<li>å®ä½“é•¿çŸ­ = æ¶¨è·Œå¹…åº¦</li>
<li>å½±çº¿é•¿çŸ­ = ç›˜ä¸­æ³¢åŠ¨</li>
</ul>`
      }
    ];
    
    function showLesson(index) {
      const lesson = LESSONS[index];
      if (!lesson) return;
      
      document.getElementById('modal-title').textContent = lesson.title;
      document.getElementById('modal-body').innerHTML = lesson.content;
      document.getElementById('teaching-modal').classList.add('show');
    }
    
    function closeModal() {
      document.getElementById('teaching-modal').classList.remove('show');
    }
    
    // ===== å·¥å…·å‡½æ•° =====
    function showScreen(name) {
      document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
      document.getElementById(name + '-screen').classList.add('active');
    }
    
    function backToMenu() {
      showScreen('menu');
      renderLevelGrid();
    }
    
    function showToast(msg, type = '') {
      const toast = document.createElement('div');
      toast.className = 'toast ' + type;
      toast.textContent = msg;
      document.body.appendChild(toast);
      setTimeout(() => toast.remove(), 1800);
    }
    
    // å¯åŠ¨
    init();
  </script>
</body>
</html>
